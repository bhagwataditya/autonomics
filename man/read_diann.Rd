% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/3_read_diann.R
\name{.read_diann_precursors}
\alias{.read_diann_precursors}
\alias{.read_diann_proteingroups}
\alias{read_diann}
\title{Read diann}
\usage{
.read_diann_precursors(file, fastadt = NULL)

.read_diann_proteingroups(file, fastadt = NULL)

read_diann(file, fastadt = NULL, quantity = "PG.MaxLFQ")
}
\arguments{
\item{file}{'report.tsv' file}

\item{fastadt}{NULL or data.table}

\item{quantity}{'PG.MaxLFQ', 'PG.Quantity', 'PG.Top1', 'PG.Top3', or 'PG.Sum'}
}
\value{
data.table / SummarizedExperiment
}
\description{
Read diann
}
\examples{
# Read
    file <- download_data('szymanski22.report.tsv')
   (PR   <- .read_diann_precursors(file))       # precursor    dt
   (PG   <- .read_diann_proteingroups(file))    # proteingroup dt
   (object <- read_diann(file))                 # proteingroup sumexp
    values(object)[1:5, 1:2]
    fdt(object)[1:5]
    sdt(object)
    object$dilution <- split_extract_fixed(object$sample_id, '_', 3)
    biplot(pca(object), color = dilution) + ggtitle('IPT Hela')
# Compare Summarizations
     PG[PG.Quantity==PG.Top1] # matches      : 26063 (85\%) proteingroups
     PG[PG.Quantity!=PG.Top1] # doesnt match :  4534 (15\%) proteingroups
     run <- 'IPT_HeLa_1_DIAstd_Slot1-40_1_9997'
     PR[Protein.Group=='Q96JP5;Q96JP5-2' & Run == run, 1:6] #    match:    8884 ==   8884
     PR[Protein.Group=='P36578'          & Run == run, 1:6] # no match:  650887 != 407978
     PR[PG.Quantity != PG.Top1][feature_name == unique(feature_name)[1]][Run == unique(Run)[1]][1:2, 1:6]
     PR[PG.Quantity != PG.Top1][feature_name == unique(feature_name)[2]][Run == unique(Run)[1]][1:2, 1:6]
     PR[PG.Quantity != PG.Top1][feature_name == unique(feature_name)[3]][Run == unique(Run)[1]][1:3, 1:6]
}
