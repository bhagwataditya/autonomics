% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/3.4_read_diann.R
\name{.read_diann_precursors}
\alias{.read_diann_precursors}
\alias{.read_diann_proteingroups}
\alias{read_diann}
\title{Read diann}
\usage{
.read_diann_precursors(file, fastadt = NULL)

.read_diann_proteingroups(file, fastadt = NULL)

read_diann(
  file,
  fastadt = NULL,
  quantity = "PG.MaxLFQ",
  contaminants = FALSE,
  impute = FALSE,
  plot = FALSE,
  pca = plot,
  fit = if (plot) "limma" else NULL,
  formula = NULL,
  block = NULL,
  coefs = NULL,
  contrastdefs = NULL,
  feature_id = NULL,
  sample_id = NULL,
  palette = make_subgroup_palette(object),
  verbose = TRUE
)
}
\arguments{
\item{file}{'report.tsv' file}

\item{fastadt}{NULL or data.table}

\item{quantity}{'PG.MaxLFQ', 'PG.Quantity', 'PG.Top1', 'PG.Top3', or 'PG.Sum'}

\item{plot}{whether to plot}

\item{pca}{whether to pca}

\item{fit}{model fit engine: 'limma', 'lm', 'lmer', 'lme'}

\item{formula}{model formula}

\item{block}{block var (sdt)}

\item{coefs}{character: coefficients to test}

\item{contrastdefs}{character: coefficient contrasts to test}

\item{feature_id}{string: summary plot feature}

\item{sample_id}{string: summary plot sample}

\item{palette}{character: color palette}

\item{verbose}{whether to msg}
}
\value{
data.table / SummarizedExperiment
}
\description{
Read diann
}
\examples{
# Read & Analyze
   file <- download_data('szymanski22.report.tsv')
   object <- read_diann(file)
   snames(object) \%<>\% split_extract_fixed('_', 3)
   object$subgroup <- as.numeric(object$sample_id)
   analyze(object)
    
# Read data.table (lower-level)
    file <- download_data('szymanski22.report.tsv')
   (PR   <- .read_diann_precursors(file))       # precursor    dt
   (PG   <- .read_diann_proteingroups(file))    # proteingroup dt
# Compare Summarizations
     PG[PG.Quantity==PG.Top1] # matches      : 26063 (85\%) proteingroups
     PG[PG.Quantity!=PG.Top1] # doesnt match :  4534 (15\%) proteingroups
     run <- 'IPT_HeLa_1_DIAstd_Slot1-40_1_9997'
     PR[Protein.Group=='Q96JP5;Q96JP5-2' & Run == run, 1:6] #    match:    8884 ==   8884
     PR[Protein.Group=='P36578'          & Run == run, 1:6] # no match:  650887 != 407978
     PR[PG.Quantity != PG.Top1][feature_name == unique(feature_name)[1]][Run == unique(Run)[1]][1:2, 1:6]
     PR[PG.Quantity != PG.Top1][feature_name == unique(feature_name)[2]][Run == unique(Run)[1]][1:2, 1:6]
     PR[PG.Quantity != PG.Top1][feature_name == unique(feature_name)[3]][Run == unique(Run)[1]][1:3, 1:6]
}
