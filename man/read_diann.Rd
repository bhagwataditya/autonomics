% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/3.4_read_diann.R
\name{.read_diann_precursors}
\alias{.read_diann_precursors}
\alias{.read_diann_proteingroups}
\alias{read_diann}
\title{Read diann}
\usage{
.read_diann_precursors(
  file,
  precursor_quantity = PRECURSOR_QUANTITY,
  Lib.PG.Q = 0.01,
  verbose = TRUE
)

.read_diann_proteingroups(
  file,
  precursor_quantity = PRECURSOR_QUANTITY,
  Lib.PG.Q = 0.01
)

read_diann(
  file,
  precursor_quantity = PRECURSOR_QUANTITY,
  Lib.PG.Q = 0.01,
  simplify_snames = TRUE,
  contaminants = character(0),
  impute = FALSE,
  plot = FALSE,
  pca = plot,
  fit = if (plot) "limma" else NULL,
  formula = NULL,
  block = NULL,
  coefs = NULL,
  contrasts = NULL,
  feature_id = NULL,
  sample_id = NULL,
  palette = NULL,
  verbose = TRUE
)
}
\arguments{
\item{file}{'report.tsv' file}

\item{precursor_quantity}{'Precursor.Quantity' or 'Precursor.Normalized'}

\item{Lib.PG.Q}{Lib.PG.Q cutoff}

\item{verbose}{TRUE/FALSE}

\item{simplify_snames}{TRUE/FALSE : simplify (drop common parts in) samplenames ?}

\item{contaminants}{string vector: contaminant uniprots}

\item{impute}{TRUE / FALSE : impute group-specific NA values?}

\item{plot}{TRUE / FALSE}

\item{pca}{TRUE / FALSE : compute and plot pca ?}

\item{fit}{model engine: 'limma', 'lm', 'lme(r)', 'wilcoxon' or NULL}

\item{formula}{model formula}

\item{block}{model blockvar: string or NULL}

\item{coefs}{model coefficients          of interest: string vector or NULL}

\item{contrasts}{model coefficient contrasts of interest: string vector or NULL}

\item{feature_id}{string: feature for summary plot}

\item{sample_id}{string: sample  for summary plot}

\item{palette}{color palette: named string vector}
}
\value{
data.table / SummarizedExperiment
}
\description{
Read diann
}
\examples{
# Read
   file <- download_data('dilution.report.tsv')
   .read_diann_precursors(file)      #    precursors longdt
   .read_diann_proteingroups(file)   # proteingroups longdt
   fdt(read_diann(file))             # proteingroups sumexp
# Compare
    PR <- .read_diann_precursors(file)
    PG <- .read_diann_proteingroups(file)
    PG[PG.Quantity==PG.Top1] # matches      : 26063 (85\%) proteingroups
    PG[PG.Quantity!=PG.Top1] # doesnt match :  4534 (15\%) proteingroups
    run <- 'IPT_HeLa_1_DIAstd_Slot1-40_1_9997'
    PR[uniprot=='Q96JP5;Q96JP5-2' & Run == run, 1:6] #    match:    8884 ==   8884
    PR[uniprot=='P36578'          & Run == run, 1:6] # no match:  650887 != 407978
    PR[PG.Quantity != PG.Top1][feature_name == unique(feature_name)[1]][Run == unique(Run)[1]][1:2, 1:6]
    PR[PG.Quantity != PG.Top1][feature_name == unique(feature_name)[2]][Run == unique(Run)[1]][1:2, 1:6]
    PR[PG.Quantity != PG.Top1][feature_name == unique(feature_name)[3]][Run == unique(Run)[1]][1:3, 1:6]
}
